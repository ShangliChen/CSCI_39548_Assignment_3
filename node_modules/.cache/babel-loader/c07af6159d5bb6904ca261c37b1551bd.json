{"ast":null,"code":"import _toConsumableArray from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import AccountBalance from'./AccountBalance';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Credits=/*#__PURE__*/function(_Component){_inherits(Credits,_Component);var _super=_createSuper(Credits);function Credits(props){var _this;_classCallCheck(this,Credits);_this=_super.call(this,props);_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(function(prevState){return{newCredit:_objectSpread(_objectSpread({},prevState.newCredit),{},_defineProperty({},name,value))};});};_this.handleSubmit=function(e){e.preventDefault();var amount=_this.state.newCredit.amount;var newCredit=_objectSpread(_objectSpread({},_this.state.newCredit),{},{amount:parseFloat(amount)});_this.props.addCredit(newCredit);_this.setState({newCredit:{description:'',amount:'',date:new Date().toISOString().slice(0,10)}});};_this.state={newCredit:{description:'',amount:'',// Store date as yyyy-mm-dd for consistency with display\ndate:new Date().toISOString().slice(0,10)}};return _this;}_createClass(Credits,[{key:\"render\",value:function render(){var _this$props=this.props,credits=_this$props.credits,accountBalance=_this$props.accountBalance;var _this$state$newCredit=this.state.newCredit,description=_this$state$newCredit.description,amount=_this$state$newCredit.amount;// Display newest first without mutating props\nvar ordered=_toConsumableArray(credits).reverse();return/*#__PURE__*/_jsxs(\"div\",{className:\"page card\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Credits\"}),/*#__PURE__*/_jsx(AccountBalance,{accountBalance:accountBalance}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:ordered.map(function(credit,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"list-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-main\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"item-desc\",children:credit.description}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-amount\",children:[\"$\",Number(credit.amount).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-date\",children:String(credit.date).slice(0,10)})]},index);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:description,onChange:this.handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",value:amount,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Credit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Return to Home\"})]});}}]);return Credits;}(Component);export default Credits;","map":{"version":3,"sources":["/home/shanglic/CSCI_39548_Assignment_3/src/components/Credits.js"],"names":["React","Component","Link","AccountBalance","Credits","props","handleChange","e","target","name","value","setState","prevState","newCredit","handleSubmit","preventDefault","amount","state","parseFloat","addCredit","description","date","Date","toISOString","slice","credits","accountBalance","ordered","reverse","map","credit","index","Number","toFixed","String"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AccountBalance from './AccountBalance';\n\nclass Credits extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newCredit: {\n        description: '',\n        amount: '',\n        // Store date as yyyy-mm-dd for consistency with display\n        date: new Date().toISOString().slice(0, 10),\n      },\n    };\n  }\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState((prevState) => ({\n      newCredit: {\n        ...prevState.newCredit,\n        [name]: value,\n      },\n    }));\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { amount } = this.state.newCredit;\n    const newCredit = {\n      ...this.state.newCredit,\n      amount: parseFloat(amount),\n    };\n    this.props.addCredit(newCredit);\n    this.setState({\n      newCredit: {\n        description: '',\n        amount: '',\n        date: new Date().toISOString().slice(0, 10),\n      },\n    });\n  };\n\n  render() {\n    const { credits, accountBalance } = this.props;\n    const { description, amount } = this.state.newCredit;\n\n    // Display newest first without mutating props\n    const ordered = [...credits].reverse();\n    return (\n      <div className=\"page card\">\n        <h1>Credits</h1>\n        <AccountBalance accountBalance={accountBalance} />\n        <br />\n        <div className=\"list\">\n          {ordered.map((credit, index) => (\n            <div className=\"list-item\" key={index}>\n              <div className=\"item-main\">\n                <span className=\"item-desc\">{credit.description}</span>\n                <span className=\"item-amount\">${Number(credit.amount).toFixed(2)}</span>\n              </div>\n              <div className=\"item-date\">{String(credit.date).slice(0, 10)}</div>\n            </div>\n          ))}\n        </div>\n        <br />\n        <form className=\"form\" onSubmit={this.handleSubmit}>\n          <div>\n            <label>Description</label>\n            <input\n              type=\"text\"\n              name=\"description\"\n              value={description}\n              onChange={this.handleChange}\n            />\n          </div>\n          <div>\n            <label>Amount</label>\n            <input\n              type=\"number\"\n              name=\"amount\"\n              value={amount}\n              onChange={this.handleChange}\n            />\n          </div>\n          <button type=\"submit\">Add Credit</button>\n        </form>\n        <br />\n        <Link to=\"/\">Return to Home</Link>\n      </div>\n    );\n  }\n}\n\nexport default Credits;\n"]},"metadata":{},"sourceType":"module"}