{"ast":null,"code":"import _asyncToGenerator from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/regenerator/index.js\";/*==================================================\nsrc/App.js\n\nThis is the top-level component of the app.\nIt contains the top-level state.\n==================================================*/import React,{Component}from'react';import{BrowserRouter as Router,Route,Link}from'react-router-dom';import axios from'axios';import'./App.css';// Import other components\nimport Home from'./components/Home';import UserProfile from'./components/UserProfile';import LogIn from'./components/Login';import Debits from'./components/Debits';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);// Create and initialize state\n_this=_super.call(this);_this.mockLogIn=function(logInInfo){var newUser=_objectSpread({},_this.state.currentUser);newUser.userName=logInInfo.userName;_this.setState({currentUser:newUser});};_this.addDebit=function(debit){var newDebitList=[].concat(_toConsumableArray(_this.state.debitList),[debit]);_this.setState({debitList:newDebitList});_this.calculateAccountBalance(newDebitList);};_this.calculateAccountBalance=function(debits){var totalDebits=debits.reduce(function(acc,d){return acc+Number(d.amount||0);},0);var accountBalance=(0-totalDebits).toFixed(2);_this.setState({accountBalance:accountBalance});};_this.state={accountBalance:0,debitList:[],currentUser:{userName:'Joe Smith',memberSince:'11/22/99'}};return _this;}// Update state's currentUser (userName) after \"Log In\" button is clicked\n_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var debits;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://johnnylaicode.github.io/api/debits.json');case 3:debits=_context.sent;debits=debits.data;this.setState({debitList:debits});this.calculateAccountBalance(debits);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error('Error fetching data:',_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,this,[[0,9]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()// Create Routes and React elements to be rendered using React components\n},{key:\"render\",value:function render(){var _this2=this;// Create React elements and pass input props to components\nvar HomeComponent=function HomeComponent(){return/*#__PURE__*/_jsx(Home,{accountBalance:_this2.state.accountBalance});};var UserProfileComponent=function UserProfileComponent(){return/*#__PURE__*/_jsx(UserProfile,{userName:_this2.state.currentUser.userName,memberSince:_this2.state.currentUser.memberSince});};var LogInComponent=function LogInComponent(){return/*#__PURE__*/_jsx(LogIn,{user:_this2.state.currentUser,mockLogIn:_this2.mockLogIn});};var DebitsComponent=function DebitsComponent(){return/*#__PURE__*/_jsx(Debits,{debits:_this2.state.debitList,addDebit:_this2.addDebit,accountBalance:_this2.state.accountBalance});};// Important: Include the \"basename\" in Router, which is needed for deploying the React app to GitHub Pages\nreturn/*#__PURE__*/_jsx(Router,{basename:process.env.PUBLIC_URL,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-brand\",children:\"Bank of React\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/debits\",children:\"Debits\"}),/*#__PURE__*/_jsx(Link,{to:\"/userProfile\",children:\"User\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-balance \".concat(Number(this.state.accountBalance)<0?'neg':''),children:[\"Balance: \",Number(this.state.accountBalance||0).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:HomeComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/userProfile\",render:UserProfileComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",render:LogInComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/debits\",render:DebitsComponent})]})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/shanglic/CSCI_39548_Assignment_3/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","Home","UserProfile","LogIn","Debits","App","mockLogIn","logInInfo","newUser","state","currentUser","userName","setState","addDebit","debit","newDebitList","debitList","calculateAccountBalance","debits","totalDebits","reduce","acc","d","Number","amount","accountBalance","toFixed","memberSince","get","data","console","error","HomeComponent","UserProfileComponent","LogInComponent","DebitsComponent","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["/*==================================================\nsrc/App.js\n\nThis is the top-level component of the app.\nIt contains the top-level state.\n==================================================*/\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './App.css';\n\n// Import other components\nimport Home from './components/Home';\nimport UserProfile from './components/UserProfile';\nimport LogIn from './components/Login';\nimport Debits from './components/Debits';\n\nclass App extends Component {\n  constructor() {  // Create and initialize state\n    super();\n    this.state = {\n      accountBalance: 0,\n      debitList: [],\n      currentUser: {\n        userName: 'Joe Smith',\n        memberSince: '11/22/99',\n      }\n    };\n  }\n\n  // Update state's currentUser (userName) after \"Log In\" button is clicked\n  mockLogIn = (logInInfo) => {\n    const newUser = { ...this.state.currentUser };\n    newUser.userName = logInInfo.userName;\n    this.setState({ currentUser: newUser });\n  }\n\n  addDebit = (debit) => {\n    const newDebitList = [...this.state.debitList, debit];\n    this.setState({ debitList: newDebitList });\n    this.calculateAccountBalance(newDebitList);\n  }\n\n  calculateAccountBalance = (debits) => {\n    const totalDebits = debits.reduce((acc, d) => acc + Number(d.amount || 0), 0);\n    const accountBalance = (0 - totalDebits).toFixed(2);\n    this.setState({ accountBalance });\n  }\n\n  async componentDidMount() {\n    try {\n      let debits = await axios.get('https://johnnylaicode.github.io/api/debits.json');\n      debits = debits.data;\n      this.setState({ debitList: debits });\n      this.calculateAccountBalance(debits);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  }\n\n  // Create Routes and React elements to be rendered using React components\n  render() {\n    // Create React elements and pass input props to components\n    const HomeComponent = () => (<Home accountBalance={this.state.accountBalance} />);\n    const UserProfileComponent = () => (\n      <UserProfile userName={this.state.currentUser.userName} memberSince={this.state.currentUser.memberSince} />\n    );\n    const LogInComponent = () => (<LogIn user={this.state.currentUser} mockLogIn={this.mockLogIn} />);\n    const DebitsComponent = () => (\n      <Debits\n        debits={this.state.debitList}\n        addDebit={this.addDebit}\n        accountBalance={this.state.accountBalance}\n      />\n    );\n\n    // Important: Include the \"basename\" in Router, which is needed for deploying the React app to GitHub Pages\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <div className=\"App\">\n          <header className=\"navbar\">\n            <div className=\"nav-brand\">Bank of React</div>\n            <nav className=\"nav-links\">\n              <Link to=\"/\">Home</Link>\n              <Link to=\"/debits\">Debits</Link>\n              <Link to=\"/userProfile\">User</Link>\n              <Link to=\"/login\">Login</Link>\n            </nav>\n            <div className={`nav-balance ${Number(this.state.accountBalance) < 0 ? 'neg' : ''}`}>\n              Balance: {Number(this.state.accountBalance || 0).toFixed(2)}\n            </div>\n          </header>\n          <main className=\"container\">\n            <Route exact path=\"/\" render={HomeComponent} />\n            <Route exact path=\"/userProfile\" render={UserProfileComponent} />\n            <Route exact path=\"/login\" render={LogInComponent} />\n            <Route exact path=\"/debits\" render={DebitsComponent} />\n          </main>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}