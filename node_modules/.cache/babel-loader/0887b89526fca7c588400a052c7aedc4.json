{"ast":null,"code":"import _asyncToGenerator from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/shanglic/CSCI_39548_Assignment_3/node_modules/@babel/runtime/regenerator/index.js\";/*==================================================\nsrc/App.js\n\nThis is the top-level component of the app.\nIt contains the top-level state.\n==================================================*/import React,{Component}from'react';import{BrowserRouter as Router,Route,Link}from'react-router-dom';import axios from'axios';import'./App.css';// Import other components\nimport Home from'./components/Home';import UserProfile from'./components/UserProfile';import LogIn from'./components/Login';import Credits from'./components/Credits';import Debits from'./components/Debits';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);// Create and initialize state\n_this=_super.call(this);_this.mockLogIn=function(logInInfo){var newUser=_objectSpread({},_this.state.currentUser);newUser.userName=logInInfo.userName;_this.setState({currentUser:newUser});};_this.addCredit=function(credit){var newCreditList=[].concat(_toConsumableArray(_this.state.creditList),[credit]);_this.setState({creditList:newCreditList});_this.calculateAccountBalance(newCreditList,_this.state.debitList);};_this.addDebit=function(debit){var newDebitList=[].concat(_toConsumableArray(_this.state.debitList),[debit]);_this.setState({debitList:newDebitList});_this.calculateAccountBalance(_this.state.creditList,newDebitList);};_this.calculateAccountBalance=function(credits,debits){var totalCredits=credits.reduce(function(acc,credit){return acc+credit.amount;},0);var totalDebits=debits.reduce(function(acc,debit){return acc+debit.amount;},0);var accountBalance=(totalCredits-totalDebits).toFixed(2);_this.setState({accountBalance:accountBalance});};_this.state={accountBalance:0,creditList:[],debitList:[],currentUser:{userName:'Joe Smith',memberSince:'11/22/99'}};return _this;}// Update state's currentUser (userName) after \"Log In\" button is clicked\n_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var credits,debits;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://johnnylaicode.github.io/api/credits.json\");case 3:credits=_context.sent;_context.next=6;return axios.get(\"https://johnnylaicode.github.io/api/debits.json\");case 6:debits=_context.sent;credits=credits.data;debits=debits.data;this.setState({creditList:credits,debitList:debits});this.calculateAccountBalance(credits,debits);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching data:\",_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,this,[[0,13]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()// Create Routes and React elements to be rendered using React components\n},{key:\"render\",value:function render(){var _this2=this;// Create React elements and pass input props to components\nvar HomeComponent=function HomeComponent(){return/*#__PURE__*/_jsx(Home,{accountBalance:_this2.state.accountBalance});};var UserProfileComponent=function UserProfileComponent(){return/*#__PURE__*/_jsx(UserProfile,{userName:_this2.state.currentUser.userName,memberSince:_this2.state.currentUser.memberSince});};var LogInComponent=function LogInComponent(){return/*#__PURE__*/_jsx(LogIn,{user:_this2.state.currentUser,mockLogIn:_this2.mockLogIn});};var CreditsComponent=function CreditsComponent(){return/*#__PURE__*/_jsx(Credits,{credits:_this2.state.creditList,addCredit:_this2.addCredit,accountBalance:_this2.state.accountBalance});};var DebitsComponent=function DebitsComponent(){return/*#__PURE__*/_jsx(Debits,{debits:_this2.state.debitList,addDebit:_this2.addDebit,accountBalance:_this2.state.accountBalance});};// Important: Include the \"basename\" in Router, which is needed for deploying the React app to GitHub Pages\nreturn/*#__PURE__*/_jsx(Router,{basename:process.env.PUBLIC_URL,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-brand\",children:\"Bank of React\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/credits\",children:\"Credits\"}),/*#__PURE__*/_jsx(Link,{to:\"/debits\",children:\"Debits\"}),/*#__PURE__*/_jsx(Link,{to:\"/userProfile\",children:\"User\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-balance \".concat(Number(this.state.accountBalance)<0?'neg':''),children:[\"Balance: \",Number(this.state.accountBalance||0).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:HomeComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/userProfile\",render:UserProfileComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",render:LogInComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/credits\",render:CreditsComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/debits\",render:DebitsComponent})]})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/shanglic/CSCI_39548_Assignment_3/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","Home","UserProfile","LogIn","Credits","Debits","App","mockLogIn","logInInfo","newUser","state","currentUser","userName","setState","addCredit","credit","newCreditList","creditList","calculateAccountBalance","debitList","addDebit","debit","newDebitList","credits","debits","totalCredits","reduce","acc","amount","totalDebits","accountBalance","toFixed","memberSince","get","data","console","error","HomeComponent","UserProfileComponent","LogInComponent","CreditsComponent","DebitsComponent","process","env","PUBLIC_URL","Number"],"mappings":"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","sourcesContent":["/*==================================================\nsrc/App.js\n\nThis is the top-level component of the app.\nIt contains the top-level state.\n==================================================*/\nimport React, {Component} from 'react';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\nimport axios from 'axios';\nimport './App.css';\n\n// Import other components\nimport Home from './components/Home';\nimport UserProfile from './components/UserProfile';\nimport LogIn from './components/Login';\nimport Credits from './components/Credits';\nimport Debits from './components/Debits';\n\nclass App extends Component {\n  constructor() {  // Create and initialize state\n    super(); \n    this.state = {\n      accountBalance: 0,\n      creditList: [],\n      debitList: [],\n      currentUser: {\n        userName: 'Joe Smith',\n        memberSince: '11/22/99',\n      }\n    };\n  }\n\n  // Update state's currentUser (userName) after \"Log In\" button is clicked\n  mockLogIn = (logInInfo) => {  \n    const newUser = {...this.state.currentUser};\n    newUser.userName = logInInfo.userName;\n    this.setState({currentUser: newUser})\n  }\n\n  addCredit = (credit) => {\n    const newCreditList = [...this.state.creditList, credit];\n    this.setState({creditList: newCreditList});\n    this.calculateAccountBalance(newCreditList, this.state.debitList);\n  }\n\n  addDebit = (debit) => {\n    const newDebitList = [...this.state.debitList, debit];\n    this.setState({debitList: newDebitList});\n    this.calculateAccountBalance(this.state.creditList, newDebitList);\n  }\n\n  calculateAccountBalance = (credits, debits) => {\n    const totalCredits = credits.reduce((acc, credit) => acc + credit.amount, 0);\n    const totalDebits = debits.reduce((acc, debit) => acc + debit.amount, 0);\n    const accountBalance = (totalCredits - totalDebits).toFixed(2);\n    this.setState({accountBalance});\n  }\n\n  async componentDidMount() {\n    try {\n      let credits = await axios.get(\"https://johnnylaicode.github.io/api/credits.json\");\n      let debits = await axios.get(\"https://johnnylaicode.github.io/api/debits.json\");\n      \n      credits = credits.data;\n      debits = debits.data;\n\n      this.setState({creditList: credits, debitList: debits});\n      this.calculateAccountBalance(credits, debits);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  }\n\n  // Create Routes and React elements to be rendered using React components\n  render() {  \n    // Create React elements and pass input props to components\n    const HomeComponent = () => (<Home accountBalance={this.state.accountBalance} />)\n    const UserProfileComponent = () => (\n      <UserProfile userName={this.state.currentUser.userName} memberSince={this.state.currentUser.memberSince} />\n    )\n    const LogInComponent = () => (<LogIn user={this.state.currentUser} mockLogIn={this.mockLogIn} />)\n    const CreditsComponent = () => (<Credits credits={this.state.creditList} addCredit={this.addCredit} accountBalance={this.state.accountBalance} />) \n    const DebitsComponent = () => (<Debits debits={this.state.debitList} addDebit={this.addDebit} accountBalance={this.state.accountBalance} />) \n\n    // Important: Include the \"basename\" in Router, which is needed for deploying the React app to GitHub Pages\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <div className=\"App\">\n          <header className=\"navbar\">\n            <div className=\"nav-brand\">Bank of React</div>\n            <nav className=\"nav-links\">\n              <Link to=\"/\">Home</Link>\n              <Link to=\"/credits\">Credits</Link>\n              <Link to=\"/debits\">Debits</Link>\n              <Link to=\"/userProfile\">User</Link>\n              <Link to=\"/login\">Login</Link>\n            </nav>\n            <div className={`nav-balance ${Number(this.state.accountBalance) < 0 ? 'neg' : ''}`}>\n              Balance: {Number(this.state.accountBalance || 0).toFixed(2)}\n            </div>\n          </header>\n          <main className=\"container\">\n            <Route exact path=\"/\" render={HomeComponent}/>\n            <Route exact path=\"/userProfile\" render={UserProfileComponent}/>\n            <Route exact path=\"/login\" render={LogInComponent}/>\n            <Route exact path=\"/credits\" render={CreditsComponent}/>\n            <Route exact path=\"/debits\" render={DebitsComponent}/>\n          </main>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}